(function(){var l=function(b){return"[object Object]"===Object.prototype.toString.call(b)},m=function(b){return"[object Array]"===Object.prototype.toString.call(b)},i=function(b){if(m(b))return 0===b.length;if(l(b))for(var a in b)if(hasOwnProperty.call(b,a))return!1;return!0},e=function(b,a,c){var d;d=function(a,b,c){var d=[],g=function(a,f){var g=d.length+1;d.push(function(){return b(a,f,function(a){var b=d[g];return!a&&b?b():!a&&!b?c():c(a)})})};if(m(a)&&!i(a))for(var h=0,e=a.length;h<e;h++)g(h,
a[h]);else if(l(a)&&!i(a))for(h in a)a.hasOwnProperty(h)&&g(h,a[h]);else return c();return d[0]()};return"undefined"===typeof c?function(a,b){if(m(a)&&!i(a))for(var c=0,d=a.length;c<d;c++)b(c,a[c]);if(l(a)&&!i(a))for(var g in a)a.hasOwnProperty(g)&&b(g,a[g])}.apply(this,arguments):d.apply(this,arguments)},n=function(){this.length=0};n.prototype.addError=function(b){this[this.length]=b;this.length++};e({getProperties:"property",getMessages:"message"},function(b,a){n.prototype[b]=function(){for(var b=
[],d=0,f=this.length;d<f;d++){var j=this[d][a];-1===b.indexOf(j)&&b.push(j)}return b}});var k=function(b){var a=this;this.Errors=new n;e(["singleError","validators"],function(c,d){a[d]=b[d]})};k.prototype.validateProperty=function(b,a,c,d){var f=this,j=function(d,j,g){if(c[d])j(a,c[d],function(j){return j?(f.Errors.addError({property:b,propertyValue:a,validator:d,validatorValue:c[d]}),f.singleError?g(!0):g()):g()});else return g()};return!0!==c.required&&"undefined"===typeof a?d():e(f.validators,
j,d)};k.prototype.validate=function(b,a,c){var d=this;return this.validateSchema(b,a,"",function(){return c(0<d.Errors.length?d.Errors:void 0)})};k.prototype.validateSchema=function(b,a,c,d){var f=this;return-1!==["object","array"].indexOf(a.type)?f.validateProperty(c,b,a,function(){return a.properties?e(a.properties,function(d,e,q){var g="object"===e.type&&e.properties,h="array"===e.type,i=f.getProperty(b,d),k=0===c.length?d:c+"."+d;return g||h?f.validateSchema(i,a.properties[d],k,q):f.validateProperty(k,
i,e,q)},d):a.items?b&&!i(b)?-1!==["object","array"].indexOf(a.items.type)?e(b,function(b,d,e){return f.validateSchema(d,a.items,c+"["+b+"]",e)},d):e(b,function(b,d,e){return f.validateProperty(c+"["+b+"]",d,a.items,e)},d):d():d()}):f.validateProperty(c,b,a,d)};k.prototype.getProperty=function(b,a){if(b)return b[a]};var o={required:function(b,a,c){return a&&!b?c(!0):c()},type:function(){var b={object:function(a){return"[object Object]"===Object.prototype.toString.call(a)},array:function(a){return"[object Array]"===
Object.prototype.toString.call(a)}};["string","number","function","boolean"].forEach(function(a){b[a]=function(b){return typeof b===a}});return function(a,c,d){return"[object Array]"===Object.prototype.toString.call(c)?c.some(function(c){return b[c](a)})?d():d(!0):b[c](a)?d():d(!0)}}(),format:function(){var b={alpha:function(a){return"string"===typeof a&&a.match(/^[a-zA-Z]+$/)},alphanumeric:function(a){return"string"===typeof a&&/^[a-zA-Z0-9]+$/.test(a)||"number"===typeof a},ipv4:function(a){return"string"===
typeof a&&a.match(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/)},ipv6:function(a){return"string"===typeof a&&a.match(/(?:(?:[a-f\d]{1,4}:)*(?:[a-f\d]{1,4}|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})|(?:(?:[a-f\d]{1,4}:)*[a-f\d]{1,4})?::(?:(?:[a-f\d]{1,4}:)*(?:[a-f\d]{1,4}|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}))?)/)},ip:function(a){return b.ipv4(a)||b.ipv6},email:function(a){return"string"===typeof a&&a.match(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/)},
url:function(a){return"string"===typeof a&&a.match(/^(?:(?:ht|f)tp(?:s?)\:\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-\w\d{1-3}]+\.)+(?:com|org|cat|coop|int|pro|tel|xxx|net|gov|mil|biz|info|mobi|name|aero|jobs|edu|co\.uk|ac\.uk|it|fr|tv|museum|asia|local|travel|[a-z]{2})?)|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\w~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\w~!$ |\/.,*:;=]|%[a-f\d]{2})*)?$/)},
date:function(a){return"[object Date]"===Object.prototype.toString.call(a)},decimal:function(a){return/^[0-9]+(\.[0-9]{1,2})?$/.test(a)},"int":function(a){return/^-?[0-9]+$/.test(a)},percentage:function(a){return"string"==typeof a&&a.match(/^-?[0-9]{0,2}(\.[0-9]{1,2})?$|^-?(100)(\.[0]{1,2})?$/)||-100<=a&&100>=a},port:function(a){return/\:\d+/.test(a)},regexp:function(a){return a&&a.test&&a.exec},unsignedInt:function(a){return/^[0-9]+$/.test(a)}};return function(a,c,d){return"[object Array]"===Object.prototype.toString.call(c)?
c.some(function(c){return b[c](a)})?d():d(!0):b[c](a)?d():d(!0)}}(),length:function(b,a,c){return"string"===typeof b?Array.isArray(a)&&(b.length<a[0]||b.length>a[1])?c(!0):"number"===typeof a&&b.length!==a?c(!0):c():c()},"enum":function(b,a,c){return-1===a.indexOf(b)?c(!0):c()},except:function(b,a,c){return-1!==a.indexOf(b)?c(!0):c()},min:function(b,a,c){return"number"!==typeof b||b<a?c(!0):c()},max:function(b,a,c){return"number"!==typeof b||b>a?c(!0):c()},pattern:function(b,a,c){return"string"===
typeof b&&!b.match(a)?c(!0):c()}},p={validate:function(b,a,c,d){"function"===typeof c&&(d=c,c={singleError:!0});c.validators=o;return(new k(c)).validate(b,a,d)},addValidator:function(b,a){o[b]=a},getVersion:function(){return"0.2.0"},getValidators:function(){return o}};"undefined"!==typeof module&&module.exports?module.exports=p:"undefined"!==typeof define?define(function(){return p}):this.amanda=p})();