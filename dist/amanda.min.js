(function(){var o=function(c){return"[object Object]"===Object.prototype.toString.call(c)},k=function(c){return"[object Array]"===Object.prototype.toString.call(c)},l=function(c){if(k(c))return 0===c.length;if(o(c))for(var a in c)if(hasOwnProperty.call(c,a))return!1;return!0},g=function(c,a,b){var d=function(a,b,c){var d=[],h=function(a,e){var i=d.length+1;d.push(function(){return b(a,e,function(a){var b=d[i];return!a&&b?b():!a&&!b?c():c(a)})})};if(k(a)&&!l(a))for(var i=0,g=a.length;i<g;i++)h(i,a[i]);
else if(o(a)&&!l(a))for(i in a)a.hasOwnProperty(i)&&h(i,a[i]);else return c();return d[0]()};return"undefined"===typeof b?function(a,b){if(k(a)&&!l(a))for(var c=0,d=a.length;c<d;c++)b.apply(a,[c,a[c]]);if(o(a)&&!l(a))for(var h in a)a.hasOwnProperty(h)&&b.apply(a,[h,a[h]])}.apply(this,arguments):d.apply(this,arguments)},p=function(){this.length=0};p.prototype.addError=function(c){this[this.length]=c;this.length++};g({getProperties:"property",getMessages:"message"},function(c,a){p.prototype[c]=function(){for(var b=
[],c=0,e=this.length;c<e;c++){var f=this[c][a];-1===b.indexOf(f)&&b.push(f)}return b}});var j=function(c){var a=this;this.Errors=new p;g(["singleError","validators","messages"],function(b,d){a[d]=c[d]})};j.prototype.renderErrorMessage=function(c,a){var b=this.messages[c];if("function"===typeof b)return b(a.property,a.propertyValue,a.validator);if("string"===typeof b)return g(a,function(a,c){b=b.replace(RegExp("{{"+a+"}}","g"),c)}),b.replace(/\s+/g," ")};j.prototype.validateProperty=function(c,a,b,
d){var e=this,f=function(d,f,h){return b[d]?f(c,a,b[d],b,function(f){if(!f)return h();f=e.renderErrorMessage(d,{property:c,propertyValue:a,validator:b[d]})||f;e.Errors.addError({property:c,propertyValue:a,validator:d,validatorValue:b[d],message:f});return h(e.singleError?!0:null)}):h()};return!0!==b.required&&"undefined"===typeof a?d():g(e.validators,f,d)};j.prototype.validate=function(c,a,b){var d=this;return this.validateSchema(c,a,"",function(){return b(0<d.Errors.length?d.Errors:void 0)})};j.prototype.validateProperties=
function(c,a,b,d){var e=this;return g(a.properties,function(d,m,g){var h="object"===m.type&&m.properties,i="array"===m.type,j=e.getProperty(c,d),k=-1!==d.indexOf(" ")?"['"+d+"']":"."+d,k=0===b.length?d:b+k;return h||i?e.validateSchema(j,a.properties[d],k,g):e.validateProperty(k,j,m,g)},d)};j.prototype.validateItems=function(c,a,b,d){var e=this;return c&&!l(c)?-1!==["object","array"].indexOf(a.items.type)?g(c,function(c,d,g){return e.validateSchema(d,a.items,b+"["+c+"]",g)},d):g(c,function(c,d,g){return e.validateProperty(b+
"["+c+"]",d,a.items,g)},d):d()};j.prototype.validateSchema=function(c,a,b,d){var e=this;return-1!==["object","array"].indexOf(a.type)?e.validateProperty(b,c,a,function(){return a.properties?e.validateProperties(c,a,b,d):a.items?e.validateItems(c,a,b,d):d()}):e.validateProperty(b,c,a,d)};j.prototype.getProperty=function(c,a){return!c?void 0:c[a]};var q={required:function(c,a,b,d,e){return b&&!a?e(!0):e()},type:function(){var c={object:function(a){return"[object Object]"===Object.prototype.toString.call(a)},
array:function(a){return"[object Array]"===Object.prototype.toString.call(a)},integer:function(a){return"number"===typeof a&&0===a%1}};["string","number","function","boolean"].forEach(function(a){c[a]=function(b){return typeof b===a}});return function(a,b,d,e,f){return"[object Array]"===Object.prototype.toString.call(d)?d.some(function(a){return c[a](b)})?f():f(!0):c[d](b)?f():f(!0)}}(),format:function(){var c={alpha:function(a){return"string"===typeof a&&a.match(/^[a-zA-Z]+$/)},alphanumeric:function(a){return"string"===
typeof a&&/^[a-zA-Z0-9]+$/.test(a)||"number"===typeof a},ipv4:function(a){return"string"===typeof a&&a.match(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/)},ipv6:function(a){return"string"===typeof a&&a.match(/(?:(?:[a-f\d]{1,4}:)*(?:[a-f\d]{1,4}|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})|(?:(?:[a-f\d]{1,4}:)*[a-f\d]{1,4})?::(?:(?:[a-f\d]{1,4}:)*(?:[a-f\d]{1,4}|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}))?)/)},ip:function(a){return c.ipv4(a)||c.ipv6},email:function(a){return"string"===
typeof a&&a.match(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/)},url:function(a){return"string"===typeof a&&a.match(/^(?:(?:ht|f)tp(?:s?)\:\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-\w\d{1-3}]+\.)+(?:com|org|cat|coop|int|pro|tel|xxx|net|gov|mil|biz|info|mobi|name|aero|jobs|edu|co\.uk|ac\.uk|it|fr|tv|museum|asia|local|travel|[a-z]{2})?)|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\w~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\w~!$ |\/.,*:;=]|%[a-f\d]{2})*)?$/)},
date:function(a){return"[object Date]"===Object.prototype.toString.call(a)},decimal:function(a){return/^[0-9]+(\.[0-9]{1,2})?$/.test(a)},"int":function(a){return/^-?[0-9]+$/.test(a)},percentage:function(a){return"string"==typeof a&&a.match(/^-?[0-9]{0,2}(\.[0-9]{1,2})?$|^-?(100)(\.[0]{1,2})?$/)||-100<=a&&100>=a},port:function(a){return/\:\d+/.test(a)},regexp:function(a){return a&&a.test&&a.exec},unsignedInt:function(a){return/^[0-9]+$/.test(a)}};return function(a,b,d,e,f){return c[d](b)?f():f(!0)}}(),
minLength:function(c,a,b,d,e){return"string"===typeof a&&a.length>=b?e():e(!0)},maxLength:function(c,a,b,d,e){return"string"===typeof a&&a.length<=b?e():e(!0)},length:function(c,a,b,d,e){return"string"===typeof a&&a.length===b?e():e(!0)},"enum":function(c,a,b,d,e){return-1===b.indexOf(a)?e(!0):e()},except:function(c,a,b,d,e){return-1!==b.indexOf(a)?e(!0):e()},minimum:function(c,a,b,d,e){return"number"===typeof a?(d.exclusiveMinimum?a>b:a>=b)?e():e(!0):e(!0)},maximum:function(c,a,b,d,e){return"number"===
typeof a?(d.exclusiveMaximum?a<b:a<=b)?e():e(!0):e(!0)},pattern:function(c,a,b,d,e){return"string"===typeof a&&!a.match(b)?e(!0):e()},minItems:function(c,a,b,d,e){return k(a)&&a.length>=b?e():e(!0)},maxItems:function(c,a,b,d,e){return k(a)&&a.length<=b?e():e(!0)},uniqueItems:function(c,a,b,d,e){return g(a,function(b,c,d){return a.indexOf(c)<b?d(!0):d()},e)},divisibleBy:function(c,a,b,d,e){return"number"===typeof a&&0===a%b?e():e(!0)}},n={required:"The \u2018{{property}}\u2019 property is required.",
minLength:"The \u2018{{property}}\u2019 property must be at least {{validator}} characters.",maxLength:"The \u2018{{property}}\u2019 property must not exceed {{validator}} characters.",length:"The \u2018{{property}}\u2019 property must be exactly {{validator}} characters.",format:"The \u2018{{property}}\u2019 property must be a/an {{validator}}.",type:"The \u2018{{property}}\u2019 property must be a/an {{validator}}.",except:"The \u2018{{property}}\u2019 property must not be {{propertyValue}}",minimum:"The minimum value of the \u2018{{property}}\u2019 must be {{validator}}",
maximum:"The maximum value of the \u2018{{property}}\u2019 must be {{validator}}",pattern:"The `{{property}}` does not match the \u2018{{validator}}\u2019 pattern.",maxItems:"The `{{property}}` property must not contain more than {{validator}} items.",minItems:"The `{{property}}` property must contain at least {{validator}} items.",divisibleBy:"The \u2018{{property}}\u2019 property is not divisible by {{validator}}.",uniqueItems:"All items in the \u2018{{property}}\u2019 property must be unique.",
"enum":function(c,a,b){return"Value of the \u2018"+c+"\u2019 must be "+b.join(" or ")+"."}},r={validate:function(c,a,b,d){"function"===typeof b&&(d=b,b={singleError:!0});var e=b,f;if(b.messages){f=b.messages;for(var g in n)n.hasOwnProperty(g)&&!f.hasOwnProperty(g)&&(f[g]=n[g])}else f=n;e.messages=f;b.validators=q;return(new j(b)).validate(c,a,d)},addValidator:function(c,a){q[c]=a},getVersion:function(){return"0.3.0"},getValidators:function(){return q}};"undefined"!==typeof module&&module.exports?
module.exports=r:"undefined"!==typeof define?define(function(){return r}):this.amanda=r})();